# arc062c.py 最初の2回の提出がWAになった理由は?

[1回目の提出](https://atcoder.jp/contests/arc062/submissions/5547838)  
005,009,012,013でWA ほかはAC

[2回目の提出](https://atcoder.jp/contests/arc062/submissions/5548116)  
005,012でWA ほかはAC

## 1回目の提出

ceil関数が浮動小数点演算でずれたか？  
……いや。この場合ならズレ始めた時点で倍率が1だけズレる。  
しかし、テストケース005を見ると、1だけズレてはいない。もっと多くズレている。なぜだろう。

テストケース005の計算途中では下記の計算をしている。

```python
>>> bairitsu = max(100484199978750000/1, 703389399851250000/6)
>>> bairitsu
1.17231566641875e+17
```

まずbairitsuは整数どうしを除算した結果なので、float型になる。  
そしてその精度には限りがあるので、ceilの引数になったときに不正確な値になる。  
（分数の正確な値は始めから表現できないのでそういう意味では始めから「不正確」だが、
その誤差が整数部分で発生するとその後の計算結果が期待と異なるものになる！）

```python
>>> a,b = 703389399851250000/6, 703389399851250000//6
>>> math.ceil(a), math.ceil(b)
(117231566641875008, 117231566641875000)
(※割り算の結果は117231566641875000に等しい)
```

テストケース009の差分は下記：

```python
>>> x,y = 409415303454045600, 65
>>> a,b = x/y, x//y
>>> b * y 
409415303454045590
>>> b * y  == x
False
>>> x - b * y
10
>>> a
6298696976216086.0
>>> math.ceil(a)
6298696976216086
>>> a == math.ceil(a)
True
```

除算の結果は 6298696976216086 + 10/65 だが、6298696976216086になってしまっている。精度不足のせい。
