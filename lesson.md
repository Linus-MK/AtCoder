## 教訓

ABC105D 

累積和を取ってもTLEになってしまう  
→S_k をA_1からA_kまでの和として、「条件を満たす」をS_kを使ってうまく言い換えられないか?

---

2020年3月11日

ABC080C numpyを半端に使うと、却って遅い 使うなら全部使わないとアカン


---

AGC016 B問題 問題中に、「対称性が少しだけ崩れたもの」がたくさん登場した場合、「対称性が崩れていないもの」を併せて考えると良さそう（2020年3月17日）  
→ABC063 D問題はこれを利用して読み替えると良い。（2020年9月20日）

AGC032 B問題 問題中に明示的に登場したわけではないが、完全グラフから少し変形して答えになるのは上と同じアイディアと言える（2020年3月25日）

---

ABC097 D問題 解説YouTube 証明の冒頭部分：「グラフに閉路があったとしても、適当に切って全域木であるとしてよい。」問題によっては使えるアイディアかも  
https://youtu.be/5PLS2J4cVmY?t=2161  
    ARC106 B問題 証明で使っていた。実際に解くときはここまで厳密に証明することは無いと思うが、考え方の1つの引き出しとして。  
    https://atcoder.jp/contests/arc106/editorial/247  
    ARC108 C問題 これを思い出して本番で解けた。解説Youtubeでも触れている。  
    https://youtu.be/s4r2AJRagjs?t=870  
    重要な考え方ですけど、この手の構成系の問題で、グラフは連結だという条件が与えられたら、とりあえず全域木を考えよう。
    木のグラフを考えるのは、連結性を考える上で大事です。


---

ABC162 E問題 大きい方から計算する、「最大公約数がNの倍数 = 全数がNの倍数」 - 「最大公約数がNでないNの倍数 = 2N, 3N, 4N, ...」（2020年4月12日）  
DとEの両方で割鶏牛刀をしてしまった、反省。

---

GCJ2018_1C_c

visible
満たすべき制約条件に方向性がある場合、
ある方向から考えたほうが条件の成否が確定して考えやすくなる
hidden
指数関数的に增大する場合、制限を突破するまでの時間は短い(log)。
見せかけの制約条件よりも実際に正解となりうる数が大幅に小さいこともあり、計算量を削減できる


ABC167 F
括弧列の問題は折れ線に変換すると考えやすくなるよ
https://youtu.be/ENSOy8u9K9I?t=7620

---

2020年6月28日  
AGC044 A問題 Pay to Win  
逆から考えるパターン。

---

2020年7月19日
https://atcoder.jp/contests/agc033/tasks/agc033_b
LRUD Game

Snuke the Wizardと関係があるのか無いのか……? https://atcoder.jp/contests/exawizards2019/tasks/exawizards2019_c

* 相異なる目的を目指す2人が、手番を入れ替えつつ両者最適に行動するパターン
  * このパターンはゲーム終了からさかのぼって考えるのが良い
* 「この初期状態でどちらが勝つか?」と問われている
  *  が、**どのような初期状態なら（コマがどこにあれば）後手が勝つか? に変換できるかがポイントだと思う**
  * 与えられた初期状態が判定条件に入るか否かを求めれば良い


---

2020年8月21日

https://twitter.com/kyopro_friends/status/1289921719444967426
https://atcoder.jp/contests/abc174/tasks/abc174_f
Range Set Queryは1つ前の同じ数の位置だけ分かってれば良い→BIT（Fenwick Tree）

chokudai_speedrun_001_j.py も同様の構造だが、まだ頭の中で整理できてない。転倒数の考え方を忘れたなぁ……

そう考えると「サプリメント」https://atcoder.jp/contests/abc017/tasks/abc017_4 も同様の話ではないか? まだ解いてないけど。

---

2020年9月17日  
2重リストの行列転置の方法  
t_t = list(map(list, zip(*t)))
https://atcoder.jp/contests/agc023/submissions/2429320  
anagohirameさんのコードより

---

2020年9月22日

https://atcoder.jp/contests/aising2020/tasks/aising2020_d  
「必要なところだけ数表を作って高速化するタイプだ、Pay to Winと同じじゃん」と思ったけど、高速化する必要はなかった……

https://atcoder.jp/contests/abc153/tasks/abc153_f
貪欲の方針は見えやすい。そこから2つの難題がある
(1) 効果範囲。単純に調べるとO(N^2)
→ 二分探索、尺取り法（事前に全計算でも逐次処理と同時に計算でも良い）
(2) HPの減算。多数の要素に対してAを引く必要があり、最悪O(N^2)
→一定範囲に-Aするのは時間がかかるけど、最初に-Aして最後に+Aすれば2要素を変えるだけで済むね（imos法）

---

2020年9月24日

AGC007 B問題  
抽象化しておくと、  
自分のやり方は「単調増加・減少性をギリギリで満たすようにする。単調性が崩れないように一工夫しながら大小関係の制約条件を満たすようにする」  
公式のやり方は「単調増加・減少性を余裕を持って満たすように大きく間隔を空ける。単調性が崩れない範囲で少し値をいじり、大小関係の制約条件を満たすようにする」

---

2020年9月26日
ABC157 E問題

- Binary Indexed Treeを26個作る
- Segment Treeを26個作る
- Segment Treeを1個作り、bit orにする
- setを26個作る

---

2020年10月3日  
ABC119 C問題 Synthetic Kadomatsu  
以下の構造を各操作の性質から見抜くのが必要。あとは「あからさまに少ない数値が制約条件に登場しているので全探索で行けないか疑う」こと。  
複数の操作を好きな順で好きな回数実行できる  
→操作Aを全部やって、その後操作Bをやる、と考えても一般性を失わない  

2020年11月17日  
https://atcoder.jp/contests/abc180/tasks/abc180_d

ABC180 D問題 Takahashi Unevolved も同じ構造。

---

2020年10月6日  
縦横分離できる、x軸方向とy軸方向を独立に考えられる問題  
* ABC082 D問題 FT Robot

---

2020年10月7日  
ABC117 D問題 XXOR  
K <= 10^12より、O(K)は通らない。  
K以下のiのうち、f(i)が最大となるものを求めたい。  
Kをビットで分解して、「K以下の数の集合」をlog(K)個の集合に分け、各集合に対するf(i)の最大値は比較的簡単に求まる。  
そう考えるとSports Festivalと同じ構図（あれは集合{1, 2, ..., N}の部分集合すべてのうち、最大値を取るものを求めるもの）  

なお、「K未満の数の集合」は、例えばKの2進数表記が1100101だと  
- 0xxxxxx
- 10xxxxx
- 11000xx
- 1100000

と分けることができる（xは0,1のany）。この問題ではK以下なのでK+1未満と置き換えている。

---

グラフの連結成分に着目する問題  
幅優先探索がよいか深さ優先探索がよいかUnion-Findがよいかいつも迷うやつ  
（深さ優先探索は遅いので選んではいけない。）  
- ABC157 D Friend Suggestions 連結成分内で直接辺が張られていない、別種の辺も張られていないものの数
- ARC111 B Reversible Cards （グラフに帰着するまでがやや苦労する）連結成分ごとに、木かどうかを判定して、頂点数を求める
- ARC107 C Shuffle Permutation swap可能な行・列同士を線で結んで、連結成分の要素数の階乗の積
- CODE FESTIVAL 2016 Final C Interpretation 連結成分を使う要素は薄め。人間頂点と言語頂点で辺を張って、全ての人間頂点が同じ連結成分にあるか判定


平均に関する問題

- ABC044 C 高橋君とカード
  - 300点問題の最難関問題。「平均A」という条件を、k個選んで合計がkA、と考え直す
  - すべての要素からAを引いて、「和が0」に帰着する方法もあり。こちらのほうが計算量が小さくて済む
- ARC104 D Multiset Mean まだ解けてない……


幅優先探索の入れるタイミングと出すタイミングと訪問評価をごちゃごちゃにしてバグらせてしまうことがたまにあるやつ、  
そろそろ一旦腰を据えて整理したい
- 01-BFSを無理やり解いたやつ。どれだっけ
- code-festival-2016-final_c.py
