部分点解法……種類数100以下、初期グラム数100以下
満点とは初期グラム数だけ違う
初期グラム数が小さければ……数回繰り返してるうちに1グラムになるという点が特徴……

DP、決め打ち二分探索、貪欲、くらいか。

決め打ち二分探索かな。
500グラムできますか
→500グラムを作る直前の操作は、明らかに「xとyを合成して金属1を作る」
→最初に持ってた金属1を引いて、xとyをそのグラム数追加
→各金属の重さが初期配置以下なら、初期配置
→超えているものがあれば、その金属をまた最初の量引いて、元の2つに分ける
→xとyから両方探索が進行することがあるので、幅優先探索あたりか?


満点解法はなんかフローの予感がする。最大流問題に帰着して解くやつ。

- 始点から各ノードの容量を、初期値に設定する
- ノード1から終点に容量無限大
- 通り抜ける流量が答え

うん。いい気がする。だけど問題点があって

- 質量保存の法則守ってない……1+1が1になる……
- 合成用の中間ノードを新設する? でも「ノードAとノードBから新設ノードに向かって1対1で流せ」なんて無理じゃない???

---

解説読んだ：

Test set 2 (Hidden)

Test set 3 (Hidden)

決め打ち二分探索。 Lグラムの鉛が作れるか否かの判定問題を解くことにする。
まず金属1＝鉛の量をL引く。この「負債」を返せれば、Lグラムの鉛が作れる。
各ステップで
マイナスの金属がないなら負債を返し終わった、完了
金属iがマイナスであるなら
    金属iを作るレシピを見る
        それがi自身を含むなら無理。False
        金属jとkからiができる場合、iを0に戻し、j,kからその量を引く
        